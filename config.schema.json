{
  "pluginAlias": "DreameVacuum",
  "pluginType": "platform",
  "schema": {
    "type": "object",
    "properties": {
      "pollInterval": { "type": "integer", "default": 5000 },
      "devices": {
        "type": "array",
        "items": {
          "title": "Dreame Device",
          "type": "object",
          "properties": {
            "name": { "type": "string", "required": true },
            "driver": { "type": "string", "enum": ["dreame-cloud"], "default": "dreame-cloud" },
            "cloud": {
              "type": "object",
              "properties": {
                "username": { "type": "string" },
                "password": { "type": "string" },
                "country":  { "type": "string", "enum": ["de","us","sg","cn","ru","in"], "default": "de" },
                "appId":    { "type": "string", "default": "1010" },
                "userAgent": { "type": "string", "default": "Dreamehome/1.0.0 (iOS;16.0)" }
              },
              "required": ["username","password"]
            },
            "rooms": {
              "type": "array",
              "items": { "type": "object", "properties": {
                "name": { "type": "string" },
                "roomId": { "type": "integer" }
              }}
            }
          },
          "required": ["name","driver","cloud"]
        }
      }
    }
  }
}